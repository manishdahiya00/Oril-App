<!-- app/views/admin/delete_requests/index.html.erb -->

<!-- Page Content -->
<div id="page-wrapper">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="page-header">Delete Requests</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <% if @delete_requests.any? %>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>ID</th>
                <th>User ID</th>
                <th>Reason</th>
                <th>Created At</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% @delete_requests.each do |request| %>
                <tr>
                  <td><%= request.id %></td>
                  <td><a href="/admin/users/<%= request.user_id %>"><%= request.user_id %></a></td>
                  <td><%= request.reason %></td>
                  <td><%= request.created_at.strftime("%d/%m/%Y %I:%M %p") %></td>
                  <td>
                    <%= button_to 'Delete User', admin_delete_request_path(request), method: :delete, data: { confirm: 'Are you sure you want to delete this user?' }, class: 'btn btn-danger btn-sm' %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% else %>
          <p>No delete requests found.</p>
        <% end %>
      </div>
    </div>
  </div>
</div>
